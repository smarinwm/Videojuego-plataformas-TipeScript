{"code":"import { __extends } from \"tslib\";\r\nimport Constantes from \"../constantes\";\r\nimport GestorBD from \"../basedatos/gestorbd\";\r\nvar SeleccionNivel = /** @class */ (function (_super) {\r\n    __extends(SeleccionNivel, _super);\r\n    function SeleccionNivel() {\r\n        return _super.call(this, Constantes.ESCENAS.SELECCIONNIVEL) || this;\r\n    }\r\n    SeleccionNivel.prototype.init = function () {\r\n        this.width = this.cameras.main.width;\r\n        this.height = this.cameras.main.height;\r\n    };\r\n    SeleccionNivel.prototype.create = function () {\r\n        this.mibd = new GestorBD();\r\n        this.imagenFondo = this.add.tileSprite(0, 0, this.cameras.main.width, this.cameras.main.height, Constantes.FONDOS.MENU).setOrigin(0, 0).setDepth(-1);\r\n        var nivel1Txt = this.add.bitmapText(80, 100, Constantes.FUENTES.BITMAP, Constantes.ESCENAS.NIVEL1, 20).setInteractive();\r\n        this.cambiarEscena(nivel1Txt, Constantes.ESCENAS.NIVEL1);\r\n        this.escribirMejorPuntuacion(nivel1Txt);\r\n        var nivel2Txt = this.add.bitmapText(80, 200, Constantes.FUENTES.BITMAP, Constantes.ESCENAS.NIVEL2, 20).setInteractive();\r\n        this.cambiarEscena(nivel2Txt, Constantes.ESCENAS.NIVEL2);\r\n        this.escribirMejorPuntuacion(nivel2Txt);\r\n        var nivel3Txt = this.add.bitmapText(80, 300, Constantes.FUENTES.BITMAP, Constantes.ESCENAS.NIVEL3, 20).setInteractive();\r\n        this.cambiarEscena(nivel3Txt, Constantes.ESCENAS.NIVEL3);\r\n        this.escribirMejorPuntuacion(nivel3Txt);\r\n        var volverTxt = this.add.bitmapText(80, this.height - 80, Constantes.FUENTES.BITMAP, Constantes.CREDITOS.VOLVER, 20).setInteractive();\r\n        this.cambiarEscena(volverTxt, Constantes.ESCENAS.MENU, false);\r\n    };\r\n    SeleccionNivel.prototype.update = function () {\r\n        this.imagenFondo.tilePositionY -= 0.4;\r\n    };\r\n    SeleccionNivel.prototype.cambiarEscena = function (texto, nuevaEscena, hud) {\r\n        var _this = this;\r\n        if (hud === void 0) { hud = true; }\r\n        texto.on('pointerdown', function () {\r\n            if (!hud) {\r\n                _this.scene.start(nuevaEscena);\r\n            }\r\n            else {\r\n                _this.cameras.main.fade(700, 0, 0, 0);\r\n                _this.cameras.main.on('camerafadeoutcomplete', function () {\r\n                    _this.scene.start(nuevaEscena);\r\n                    _this.scene.start(Constantes.ESCENAS.HUD, { nombreNivel: nuevaEscena });\r\n                    _this.scene.bringToTop(Constantes.ESCENAS.HUD);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    SeleccionNivel.prototype.escribirMejorPuntuacion = function (nivelTxt) {\r\n        var nivelbd = nivelTxt.text.split(' ').join('').toLowerCase();\r\n        if (this.mibd.datos.puntuaciones[nivelbd] > 0) {\r\n            var mejorResultado = Phaser.Utils.String.Pad(this.mibd.datos.puntuaciones[nivelbd], 5, '0', 1);\r\n            var nivelPuntuacion = this.add.bitmapText(nivelTxt.x + 200, nivelTxt.y, Constantes.FUENTES.BITMAP, mejorResultado, 20);\r\n        }\r\n    };\r\n    return SeleccionNivel;\r\n}(Phaser.Scene));\r\nexport default SeleccionNivel;\r\n","references":["/home/smm/Documentos/Pharser/videojuego/v10/src/constantes.ts","/home/smm/Documentos/Pharser/videojuego/v10/src/basedatos/gestorbd.ts"]}
